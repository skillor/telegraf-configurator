<div class="flex flex-col">
    <table class="table table-compact">
        <tbody>
            <tr *ngFor="let plugin of mandatoryPlugins">
                <td>
                    <button (click)="selectPlugin.emit(plugin)" type="button" class="btn btn-secondary w-full"
                        [class.btn-outline]="plugin !== selectedPlugin">
                        {{ plugin.name }}
                    </button>
                </td>
                <td></td>
            </tr>
            <tr *ngFor="let plugin of selectedPlugins">
                <td>
                    <button (click)="selectPlugin.emit(plugin)" type="button" class="btn btn-secondary w-full"
                        [class.btn-outline]="plugin !== selectedPlugin">
                        {{ plugin.name }}
                    </button>
                </td>
                <td>
                    <button (click)="removePlugin.emit(plugin)" type="button" class="btn btn-error">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <button *ngIf="!addingPlugin" type="button" class="btn btn-primary mt-1" (click)="addingPlugin = true">
        Add Plugin
    </button>
    <ng-container *ngIf="addingPlugin">
        <button type="button" class="btn btn-error my-1" (click)="addingPlugin = false">
            Cancel
        </button>
        <input type="text" class="input input-bordered w-full mt-1 mb-2" placeholder="Search" [formControl]="searchControl" autofocus>
        <ul class="menu p-2 rounded-box bg-secondary text-secondary-content">
            <li *ngFor="let plugin of searchedOptionalPlugins">
                <button type="button" (click)="addingPlugin = false; addPlugin.emit(plugin)">
                {{plugin}}
                </button>
            </li>
        </ul>
    </ng-container>
</div>
